<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Scripting / Game — Siraj Khalid</title>
  <meta name="description" content="Playable Unity WebGL build embedded in Siraj Khalid’s portfolio." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b0b0b; --fg:#eaeaea; --muted:#9b9b9b; --line:rgba(234,234,234,0.12);
      --maxw:1400px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;background:var(--bg);color:var(--fg);font-family:Inter,system-ui,Segoe UI,Arial,sans-serif;
      opacity:0;transition:opacity .35s ease;
    }
    body.ready{opacity:1}

    /* Header */
    .topbar{position:sticky;top:0;z-index:50;backdrop-filter:saturate(150%) blur(8px);
      background:rgba(11,11,11,0.6);border-bottom:1px solid var(--line)}
    .wrap{max-width:var(--maxw);margin:0 auto;padding:12px 18px}
    .header-row{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{display:flex;align-items:center;gap:12px}
    .brand h1{margin:0;font-weight:800;letter-spacing:.02em;font-size:22px}
    .brand .role{display:block;color:var(--muted);font-size:12px;letter-spacing:.12em;text-transform:uppercase;margin-top:2px}

    nav.navlinks{display:flex;align-items:center;gap:10px}
    .chip,.icon{transition:transform .15s ease, background .2s ease}
    .chip{display:inline-block;font-size:14px;padding:8px 12px;border-radius:999px;text-decoration:none;color:var(--fg);
      background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.18)}
    .chip:hover{background:rgba(255,255,255,0.12); transform:translateY(-1px) scale(1.02)}
    .chip[aria-current="page"]{background:rgba(255,255,255,0.12)}
    .icon{width:34px;height:34px;border-radius:999px;display:grid;place-items:center;text-decoration:none;
      background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.18)}
    .icon:hover{background:rgba(255,255,255,0.12); transform:translateY(-1px) scale(1.02)}
    .icon svg{width:18px;height:18px;fill:var(--fg)}

    /* Page */
    main{max-width:var(--maxw);margin:18px auto 50px;padding:0 18px}
    h2{margin:0 0 8px 0;font-size:18px}
    p.muted{color:var(--muted);margin:0 0 14px 0}

    /* Game frame */
    .frame-wrap{
      position:relative; width:100%;
      /* 16:9 aspect ratio by default; increases height on phones */
      aspect-ratio: 16 / 9;
      background:#111;border:1px solid var(--line);border-radius:14px;overflow:hidden;
    }
    iframe.unity{
      position:absolute; inset:0; width:100%; height:100%; border:0; display:block;
      background:#000;
    }

    /* Controls */
    .bar{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-top:10px}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:9px 12px;border-radius:10px;
      background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.18);color:var(--fg);
      text-decoration:none;cursor:pointer;transition:transform .15s ease, background .2s ease}
    .btn:hover{background:rgba(255,255,255,0.12); transform:translateY(-1px) scale(1.02)}
    .right{margin-left:auto; display:flex; gap:8px}

    /* Small helper text */
    .tiny{color:var(--muted);font-size:12px;margin-top:8px}
  </style>
</head>
<body>
  <header class="topbar">
    <div class="wrap header-row">
      <div class="brand">
        <div>
          <h1>Siraj Khalid</h1>
          <span class="role">Concept Artist</span>
        </div>
      </div>

      <nav class="navlinks" aria-label="Primary">
        <a class="chip" href="/">Home</a>
        <a class="chip" href="/about.html">About</a>
        <a class="chip" href="/resume.html">Resume</a>
        <a class="chip" href="/contact.html">Contact</a>
        <a class="chip" href="/scripting/">Game</a>
        <a class="icon" href="https://www.artstation.com/taytayswiftt" target="_blank" rel="noopener noreferrer" aria-label="ArtStation">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 4l8 14H4z"/></svg>
        </a>
        <a class="icon" href="https://www.linkedin.com/in/sirajkhalid/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Zm-9.79 16H6.2V10.2h3.01V19ZM7.7 8.97a1.74 1.74 0 1 1 0-3.49 1.74 1.74 0 0 1 0 3.49ZM19 19h-3v-4.49c0-1.07-.02-2.45-1.49-2.45-1.49 0-1.72 1.16-1.72 2.37V19Z"/>
          </svg>
        </a>
      </nav>
    </div>
  </header>

  <main>
    <h2>Playable Build</h2>
    <p class="muted">This is my Unity WebGL vertical slice, embedded from <code>/game/</code>. Use the button inside the game or the controls below for fullscreen.</p>

    <div class="frame-wrap" id="gameWrap" aria-label="Unity WebGL game container">
      <!-- Cache-busting query (?v=) helps after new builds -->
      <iframe
        id="unityFrame"
        class="unity"
        src="/scripting/strykersrevenge/game/index.html?v=1"
        title="Unity WebGL Build"
        allow="autoplay; fullscreen"
        allowfullscreen
        loading="eager">
      </iframe>
    </div>

    <div class="bar">
      <span class="tiny">Tip: Click inside the game to capture keyboard. Press <kbd>Esc</kbd> to release.</span>
      <div class="right">
        <button class="btn" id="btnFullscreen" type="button">Fullscreen</button>
        <a class="btn" href="/scripting/strykersrevenge/game/index.html" target="_blank" rel="noopener">Open in new tab</a>
      </div>
    </div>

    <p class="tiny">If the game doesn’t load, refresh once. After future builds, bump the <code>?v=</code> number to bust cache.</p>
  </main>

  <footer class="wrap" style="color:var(--muted);font-size:13px;margin-bottom:50px">
    © <span id="year"></span> Siraj Khalid — <a class="btn" href="/" style="margin-left:8px;text-decoration:none">Back to Home</a>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', ()=>document.body.classList.add('ready'));
    document.getElementById('year').textContent = new Date().getFullYear();

    // Fullscreen the iframe (not the inner canvas) – widely supported
    const fsBtn = document.getElementById('btnFullscreen');
    const frame = document.getElementById('unityFrame');
    fsBtn?.addEventListener('click', async () => {
      try{
        if (document.fullscreenElement) {
          await document.exitFullscreen();
        } else {
          await frame.requestFullscreen(); // fullscreen the frame itself
        }
      }catch(e){
        // If blocked, fall back to opening in new tab
        window.open('/scripting/strykersrevenge/game/index.html','_blank');
      }
    });

    // Optional: keep aspect ratio nicer on narrow screens (taller than 16:9)
    const wrap = document.getElementById('gameWrap');
    const setMinHeight = () => {
      const w = wrap.clientWidth;
      const target = Math.max(w * 9/16, 420); // never shorter than 420px
      wrap.style.minHeight = target + 'px';
    };
    setMinHeight();
    window.addEventListener('resize', setMinHeight);
  </script>
</body>
</html>
